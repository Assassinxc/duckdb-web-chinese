---
---
layout: docu
redirect_from:
- /docs/test/functions/blob
- /docs/test/functions/blob/
- /docs/sql/functions/blob
title: 二进制大对象（BLOB）函数
---

<!-- markdownlint-disable MD001 -->

本节描述了用于检查和操作 [`BLOB 值`]({% link docs/stable/sql/data_types/blob.md %}) 的函数和运算符。

<!-- Start of section generated by scripts/generate_sql_function_docs.py; categories: [blob] -->
<!-- markdownlint-disable MD056 -->

| 名称 | 描述 |
|:--|:-------|
| [`arg1 || arg2`](#arg1--arg2) | 将两个字符串、列表或二进制大对象连接起来。任何 `NULL` 输入都会导致 `NULL`。另请参见 [`concat(arg1, arg2, ...)`](#concatvalue-) 和 [`list_concat(list1, list2)`]({% link docs/stable/sql/functions/list.md %}#list_concatlist1-list2)。 |
| [`base64(blob)`](#base64blob) | 将 `blob` 转换为 base64 编码的字符串。 |
| [`concat(value, ...)`](#concatvalue-) | 将多个字符串、列表或二进制大对象连接起来。`NULL` 输入会被跳过。另请参见 [运算符 `||`](#arg1--arg2)。 |
| [`decode(blob)`](#decodeblob) | 将 `blob` 转换为 `VARCHAR`。如果 `blob` 不是有效的 UTF-8，将会失败。 |
| [`encode(string)`](#encodestring) | 将 `string` 转换为 `BLOB`。将 UTF-8 字符转换为字面编码。 |
| [`from_base64(string)`](#from_base64string) | 将 base64 编码的 `string` 转换为字符字符串 (`BLOB`)。 |
| [`from_binary(value)`](#from_binaryvalue) | 将 `value` 从二进制表示转换为二进制大对象。 |
| [`from_hex(value)`](#from_hexvalue) | 将 `value` 从十六进制表示转换为二进制大对象。 |
| [`hex(blob)`](#hexblob) | 将 `blob` 使用十六进制编码转换为 `VARCHAR`。 |
| [`md5(blob)`](#md5blob) | 返回 `blob` 的 MD5 哈希值作为 `VARCHAR`。 |
| [`md5_number(blob)`](#md5_numberblob) | 返回 `blob` 的 MD5 哈希值作为 `HUGEINT`。 |
| [`octet_length(blob)`](#octet_lengthblob) | `blob` 中的字节数。 |
| [`read_blob(source)`](#read_blobsource) | 从 `source`（文件名、文件名列表或通配符模式）中返回内容作为 `BLOB`。有关更多详情，请参阅 [`read_blob` 指南]({% link docs/stable/guides/file_formats/read_file.md %}#read_blob)。 |
| [`repeat(blob, count)`](#repeatblob-count) | 将 `blob` 重复 `count` 次。 |
| [`sha1(blob)`](#sha1blob) | 返回 `blob` 的 SHA-1 哈希值作为 `VARCHAR`。 |
| [`sha256(blob)`](#sha256blob) | 返回 `blob` 的 SHA-256 哈希值作为 `VARCHAR`。 |
| [`to_base64(blob)`](#to_base64blob) | 将 `blob` 转换为 base64 编码的字符串。 |
| [`to_hex(blob)`](#to_hexblob) | 将 `blob` 使用十六进制编码转换为 `VARCHAR`。 |
| [`unbin(value)`](#unbinvalue) | 将 `value` 从二进制表示转换为二进制大对象。 |
| [`unhex(value)`](#unhexvalue) | 将 `value` 从十六进制表示转换为二进制大对象。 |

<!-- markdownlint-enable MD056 -->

#### `arg1 || arg2`

<div class="nostroke_table"></div>

| **描述** | 将两个字符串、列表或二进制大对象连接起来。任何 `NULL` 输入会导致 `NULL`。另请参见 [`concat(arg1, arg2, ...)`](#concatvalue-) 和 [`list_concat(list1, list2)`]({% link docs/stable/sql/functions/list.md %}#list_concatlist1-list2)。 |
| **示例 1** | `'Duck' || 'DB'` |
| **结果** | `DuckDB` |
| **示例 2** | `[1, 2, 3] || [4, 5, 6]` |
| **结果** | `[1, 2, 3, 4, 5, 6]` |
| **示例 3** | `'\xAA'::BLOB || '\xBB'::BLOB` |
| **结果** | `\xAA\xBB` |

#### `base64(blob)`

<div class="nostroke_table"></div>

| **描述** | 将 `blob` 转换为 base64 编码的字符串。 |
| **示例** | `base64('A'::BLOB)` |
| **结果** | `QQ==` |
| **别名** | `to_base64` |

#### `concat(value, ...)`

<div class="nostroke_table"></div>

| **描述** | 将多个字符串、列表或二进制大对象连接起来。`NULL` 输入会被跳过。另请参见 [运算符 `||`](#arg1--arg2)。 |
| **示例** | `concat('Hello', ' ', 'World')` |
| **结果** | `Hello World` |

#### `decode(blob)`

<div class="nostroke_table"></div>

| **描述** | 将 `blob` 转换为 `VARCHAR`。如果 `blob` 不是有效的 UTF-8，将会失败。 |
| **示例** | `decode('\xC3\xBC'::BLOB)` |
| **结果** | `ü` |

#### `encode(string)`

<div class="nostroke_table"></div>

| **描述** | 将 `string` 转换为 `BLOB`。将 UTF-8 字符转换为字面编码。 |
| **示例** | `encode('my_string_with_ü')` |
| **结果** | `my_string_with_\xC3\xBC` |

#### `from_base64(string)`

<div class="nostroke_table"></
| **描述** | 将 base64 编码的 `string` 转换为字符字符串 (`BLOB`)。 |
| **示例** | `from_base64('QQ==')` |
| **结果** | `A` |

#### `from_binary(value)`

<div class="nostroke_table"></div>

| **描述** | 将 `value` 从二进制表示转换为二进制大对象。 |
| **示例** | `from_binary('0110')` |
| **结果** | `\x06` |
| **别名** | `unbin` |

#### `from_hex(value)`

<div class="nostroke_table"></div>

| **描述** | 将 `value` 从十六进制表示转换为二进制大对象。 |
| **示例** | `from_hex('2A')` |
| **结果** | `*` |
| **别名** | `unhex` |

#### `hex(blob)`

<div class="nostroke_table"></div>

| **描述** | 将 `blob` 使用十六进制编码转换为 `VARCHAR`。 |
| **示例** | `hex('\xAA\xBB'::BLOB)` |
| **结果** | `AABB` |
| **别名** | `to_hex` |

#### `md5(blob)`

<div class="nostroke_table"></div>

| **描述** | 返回 `blob` 的 MD5 哈希值作为 `VARCHAR`。 |
| **示例** | `md5('\xAA\xBB'::BLOB)` |
| **结果** | `58cea1f6b2b06520613e09af90dc1c47` |

#### `md5_number(blob)`

<div class="nostroke_table"></div>

| **描述** | 返回 `blob` 的 MD5 哈希值作为 `HUGEINT`。 |
| **示例** | `md5_number('\xAA\xBB'::BLOB)` |
| **结果** | `94525045605907259200829535064523132504` |

#### `octet_length(blob)`

<div class="nostroke_table"></div>

| **描述** | `blob` 中的字节数。 |
| **示例** | `octet_length('\xAA\xBB'::BLOB)` |
| **结果** | `2` |

#### `read_blob(source)`

<div class="nostroke_table"></div>

| **描述** | 从 `source`（文件名、文件名列表或通配符模式）中返回内容作为 `BLOB`。有关更多详情，请参阅 [`read_blob` 指南]({% link docs/stable/guides/file_formats/read_file.md %}#read_blob)。 |
| **示例** | `read_blob('hello.bin')` |
| **结果** | `hello\x0A` |

#### `repeat(blob, count)`

<div class="nostroke_table"></div>

| **描述** | 将 `blob` 重复 `count` 次。 |
| **示例** | `repeat('\xAA\xBB'::BLOB, 5)` |
| **结果** | `\xAA\xBB\xAA\xBB\xAA\xBB\xAA\xBB\xAA\xBB` |

#### `sha1(blob)`

<div class="nostroke_table"></div>

| **描述** | 返回 `blob` 的 SHA-1 哈希值作为 `VARCHAR`。 |
| **示例** | `sha1('\xAA\xBB'::BLOB)` |
| **结果** | `65b1e351a6cbfeb41c927222bc9ef53aad3396b0` |

#### `sha256(blob)`

<div class="nostroke_table"></div>

| **描述** | 返回 `blob` 的 SHA-256 哈希值作为 `VARCHAR`。 |
| **示例** | `sha256('\xAA\xBB'::BLOB)` |
| **结果** | `d798d1fac6bd4bb1c11f50312760351013379a0ab6f0a8c0af8a506b96b2525a` |

#### `to_base64(blob)`

<div class="nostroke_table"></div>

| **描述** | 将 `blob` 转换为 base64 编码的字符串。 |
| **示例** | `to_base64('A'::BLOB)` |
| **结果** | `QQ==` |
| **别名** | `base64` |

#### `to_hex(blob)`

<div class="nostroke_table"></div>

| **描述** | 将 `blob` 使用十六进制编码转换为 `VARCHAR`。 |
| **示例** | `to_hex('\xAA\xBB'::BLOB)` |
| **结果** | `AABB` |
| **别名** | `hex` |

#### `unbin(value)`

<div class="nostroke_table"></div>

| **描述** | 将 `value` 从二进制表示转换为二进制大对象。 |
| **示例** | `unbin('0110')` |
| **结果** | `\x06` |
| **别名** | `from_binary` |

#### `unhex(value)`

<div class="nostroke_table"></div>

| **描述** | 将 `value` 从十六进制表示转换为二进制大对象。 |
| **示例** | `unhex('2A')` |
| **结果** | `*` |
| **别名** | `from_hex` |

<!-- End of section generated by scripts/generate_sql_function_docs.py -->