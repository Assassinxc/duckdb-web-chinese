---
---
layout: docu
redirect_from:
- /docs/api/cli/editing
- /docs/api/cli/editing/
- /docs/clients/cli/editing
title: 编辑
---

> 基于 linenoise 的 CLI 编辑器目前仅适用于 macOS 和 Linux。

DuckDB 的 CLI 使用基于 [linenoise](https://github.com/antirez/linenoise) 的行编辑库，其快捷键基于 [readline 的 Emacs 模式](https://readline.kablamo.org/emacs.html)。以下是一些可用命令的列表。

## 移动

|       键       |                                 动作                                 |
|-----------------|------------------------------------------------------------------------|
| `Left`          | 向后移动一个字符                                                  |
| `Right`         | 向前移动一个字符                                                   |
| `Up`            | 向上移动一行。当在第一行时，移动到上一条历史记录                   |
| `Down`          | 向下移动一行。当在最后一行时，移动到下一条历史记录                 |
| `Home`          | 移动到缓冲区的开始处                                              |
| `End`           | 移动到缓冲区的末尾处                                              |
| `Ctrl`+`Left`   | 向后移动一个单词                                                   |
| `Ctrl`+`Right`  | 向前移动一个单词                                                   |
| `Ctrl`+`A`      | 移动到缓冲区的开始处                                              |
| `Ctrl`+`B`      | 向后移动一个字符                                                   |
| `Ctrl`+`E`      | 移动到缓冲区的末尾处                                              |
| `Ctrl`+`F`      | 向前移动一个字符                                                   |
| `Alt`+`Left`    | 向后移动一个单词                                                   |
| `Alt`+`Right`   | 向前移动一个单词                                                   |

## 历史记录

|     键    |            动作              |
|------------|--------------------------------|
| `Ctrl`+`P` | 移动到上一条历史记录         |
| `Ctrl`+`N` | 移动到下一条历史记录         |
| `Ctrl`+`R` | 搜索历史记录                 |
| `Ctrl`+`S` | 搜索历史记录                 |
| `Alt`+`<`  | 移动到第一条历史记录         |
| `Alt`+`>`  | 移动到最后一条历史记录       |
| `Alt`+`N`  | 搜索历史记录                 |
| `Alt`+`P`  | 搜索历史记录                 |

## 修改文本

|        键        | 动作                                                   |
|-------------------|----------------------------------------------------------|
| `Backspace`       | 删除前一个字符                                        |
| `Delete`          | 删除下一个字符                                        |
| `Ctrl`+`D`        | 删除下一个字符。当缓冲区为空时，结束编辑               |
| `Ctrl`+`H`        | 删除前一个字符                                        |
| `Ctrl`+`K`        | 删除光标之后的所有内容                               |
| `Ctrl`+`T`        | 交换当前字符和下一个字符                              |
| `Ctrl`+`U`        | 删除所有文本                                          |
| `Ctrl`+`W`        | 删除前一个单词                                        |
| `Alt`+`C`         | 将下一个单词转换为标题格式                            |
| `Alt`+`D`         | 删除下一个单词                                        |
| `Alt`+`L`         | 将下一个单词转换为小写                                |
| `Alt`+`R`         | 删除所有文本                                          |
| `Alt`+`T`         | 交换当前单词和下一个单词                              |
| `Alt`+`U`         | 将下一个单词转换为大写                                |
| `Alt`+`Backspace` | 删除前一个单词                                        |
| `Alt`+`\`         | 删除光标周围的空格                                    |

## 补全

|      键      |                          动作                        |
|---------------|--------------------------------------------------------|
| `Tab`         | 自动补全。在自动补全时，切换到下一条记录             |
| `Shift`+`Tab` | 在自动补全时，切换到上一条记录                       |
| `Esc`+`Esc`   | 在自动补全时，撤销自动补全                           |

## 其他

|    键     |                           动作                                                   |
|------------|------------------------------------------------------------------------------------|
| `Enter`    | 执行查询。如果查询未完成，在缓冲区末尾插入换行符                                 |
| `Ctrl`+`J` | 执行查询。如果查询未完成，在缓冲区末尾插入换行符                                 |
| `Ctrl`+`C` | 取消当前查询的编辑                                                              |
| `Ctrl`+`G` | 取消当前查询的编辑                                                              |
| `Ctrl`+`L` | 清除屏幕                                                                         |
| `Ctrl`+`O` | 取消当前查询的编辑                                                              |
| `Ctrl`+`X` | 在光标后插入换行符                                                              |
| `Ctrl`+`Z` | 挂起 CLI 并返回到 shell，使用 `fg` 重新打开                                     |

## 使用 Read-Line

如果您愿意，可以使用 [`rlwrap`](https://github.com/hanslub42/rlwrap) 直接在 shell 中使用 read-line。然后，使用 `Shift`+`Enter` 插入换行符，使用 `Enter` 执行查询：

```bash
rlwrap --substitute-prompt="D " duckdb -batch
```